<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Greek Numbers</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, system-ui;
      background: #0b1220;
      color: #e8eefc;
      text-align: center;
      padding: 16px;
    }
    h1 { font-size: 20px; margin: 10px 0 4px; }
    #num { font-size: 56px; font-weight: 900; margin: 18px 0 10px; }
    .hint { opacity: 0.85; margin-bottom: 12px; }
    #choices { display: grid; gap: 12px; margin-top: 12px; }
    button.choice {
      width: 100%;
      padding: 16px;
      font-size: 22px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.2);
      background: #121c33;
      color: #e8eefc;
      font-weight: 800;
    }
    button.choice.good {
      background: rgba(96,255,165,0.18);
      border-color: rgba(96,255,165,0.55);
    }
    button.choice.bad {
      background: rgba(255,96,96,0.18);
      border-color: rgba(255,96,96,0.55);
    }
    .topBtn {
      width: 100%;
      padding: 14px;
      font-size: 18px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.2);
      background: rgba(255,255,255,0.06);
      color: #e8eefc;
      font-weight: 800;
      margin-top: 10px;
    }
    #status {
      margin-top: 12px;
      min-height: 22px;
      font-size: 18px;
      font-weight: 800;
    }
  </style>
</head>
<body>

<h1>Greek Numbers 1â€“20</h1>
<div id="num">â€“</div>
<div class="hint">Tap the correct Greek</div>
<button class="topBtn" onclick="sayNumber()">ğŸ”Š Hear the answer</button>

<div id="choices"></div>
<div id="status"></div>

<script>
const greek = {
  1:"Î­Î½Î±",2:"Î´ÏÎ¿",3:"Ï„ÏÎ¯Î±",4:"Ï„Î­ÏƒÏƒÎµÏÎ±",5:"Ï€Î­Î½Ï„Îµ",
  6:"Î­Î¾Î¹",7:"ÎµÏ€Ï„Î¬",8:"Î¿ÎºÏ„Ï",9:"ÎµÎ½Î½Î­Î±",10:"Î´Î­ÎºÎ±",
  11:"Î­Î½Ï„ÎµÎºÎ±",12:"Î´ÏÎ´ÎµÎºÎ±",13:"Î´ÎµÎºÎ±Ï„ÏÎ¯Î±",14:"Î´ÎµÎºÎ±Ï„Î­ÏƒÏƒÎµÏÎ±",
  15:"Î´ÎµÎºÎ±Ï€Î­Î½Ï„Îµ",16:"Î´ÎµÎºÎ±Î­Î¾Î¹",17:"Î´ÎµÎºÎ±ÎµÏ€Ï„Î¬",
  18:"Î´ÎµÎºÎ±Î¿ÎºÏ„Ï",19:"Î´ÎµÎºÎ±ÎµÎ½Î½Î­Î±",20:"ÎµÎ¯ÎºÎ¿ÏƒÎ¹"
};

let current = 1;
let greekVoice = null;

const praise = ["ÎœÏ€ÏÎ¬Î²Î¿", "Î¤Î­Î»ÎµÎ¹Î±", "Î£Ï‰ÏƒÏ„ÏŒ", "Î Î¿Î»Ï ÎºÎ±Î»Î¬"];
const tryAgain = "Î”Î¿ÎºÎ¯Î¼Î±ÏƒÎµ Î¾Î±Î½Î¬";

function pickNew() {
  current = Math.floor(Math.random() * 20) + 1;
  document.getElementById("num").innerText = current;
  document.getElementById("status").innerText = "";
  renderChoices();
}

function renderChoices() {
  const box = document.getElementById("choices");
  box.innerHTML = "";

  let options = [greek[current]];
  while (options.length < 3) {
    const r = greek[Math.floor(Math.random() * 20) + 1];
    if (!options.includes(r)) options.push(r);
  }
  options.sort(() => Math.random() - 0.5);

  options.forEach(text => {
    const b = document.createElement("button");
    b.className = "choice";
    b.innerText = text;
    b.onclick = () => handleChoice(b, text);
    box.appendChild(b);
  });
}

function loadGreekVoice() {
  const voices = speechSynthesis.getVoices();
  greekVoice =
    voices.find(v => (v.lang || "").toLowerCase() === "el-gr") ||
    voices.find(v => (v.lang || "").toLowerCase().startsWith("el")) ||
    null;
}
speechSynthesis.onvoiceschanged = loadGreekVoice;
loadGreekVoice();

function speak(text) {
  const u = new SpeechSynthesisUtterance(text);
  if (greekVoice) u.voice = greekVoice;
  u.lang = "el-GR";
  u.rate = 0.9;
  u.pitch = 1.0;
  speechSynthesis.cancel();
  speechSynthesis.speak(u);
}

function sayNumber() {
  speak(greek[current]);
}

function handleChoice(btn, chosen) {
  const correct = greek[current];

  if (chosen === correct) {
    btn.classList.add("good");
    document.getElementById("status").innerText = "âœ… " + (praise[Math.floor(Math.random()*praise.length)]);
    // Speak the correct answer, then praise
    speak(correct);
    setTimeout(() => speak(praise[Math.floor(Math.random()*praise.length)]), 900);

    // lock buttons, move to next after a moment
    document.querySelectorAll("button.choice").forEach(b => b.disabled = true);
    setTimeout(pickNew, 1400);
  } else {
    btn.classList.add("bad");
    document.getElementById("status").innerText = "âŒ " + tryAgain;
    speak(tryAgain);
    // Do not move on. Keep trying.
  }
}

pickNew();
</script>

</body>
</html>